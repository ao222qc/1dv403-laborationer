{"filter":false,"title":"script.js","tooltip":"/4-thequiz/script.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":44,"column":53},"end":{"row":44,"column":54},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":54},"end":{"row":44,"column":55},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":55},"end":{"row":44,"column":56},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":56},"end":{"row":44,"column":57},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":57},"end":{"row":44,"column":58},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":58},"end":{"row":44,"column":59},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":59},"end":{"row":44,"column":60},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":60},"end":{"row":44,"column":61},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":61},"end":{"row":44,"column":62},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":62},"end":{"row":44,"column":63},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":63},"end":{"row":44,"column":64},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":64},"end":{"row":44,"column":65},"action":"insert","lines":["ä"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":65},"end":{"row":44,"column":66},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":66},"end":{"row":44,"column":67},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":67},"end":{"row":44,"column":68},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":68},"end":{"row":44,"column":69},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":68},"end":{"row":44,"column":69},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":67},"end":{"row":44,"column":68},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":66},"end":{"row":44,"column":67},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":65},"end":{"row":44,"column":66},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":64},"end":{"row":44,"column":65},"action":"remove","lines":["ä"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":63},"end":{"row":44,"column":64},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":62},"end":{"row":44,"column":63},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":61},"end":{"row":44,"column":62},"action":"remove","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":60},"end":{"row":44,"column":61},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":59},"end":{"row":44,"column":60},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":58},"end":{"row":44,"column":59},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":57},"end":{"row":44,"column":58},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":56},"end":{"row":44,"column":57},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":55},"end":{"row":44,"column":56},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":54},"end":{"row":44,"column":55},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":53},"end":{"row":44,"column":54},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":52},"end":{"row":44,"column":53},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":51},"end":{"row":44,"column":52},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":50},"end":{"row":44,"column":51},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":49},"end":{"row":44,"column":50},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":48},"end":{"row":44,"column":49},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":47},"end":{"row":44,"column":48},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":46},"end":{"row":44,"column":47},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":45},"end":{"row":44,"column":46},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":44},"end":{"row":44,"column":45},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":43},"end":{"row":44,"column":44},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":42},"end":{"row":44,"column":43},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":41},"end":{"row":44,"column":42},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":40},"end":{"row":44,"column":41},"action":"remove","lines":["ä"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":39},"end":{"row":44,"column":40},"action":"remove","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":38},"end":{"row":44,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":37},"end":{"row":44,"column":38},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":36},"end":{"row":44,"column":37},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":35},"end":{"row":44,"column":36},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":34},"end":{"row":44,"column":35},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":33},"end":{"row":44,"column":34},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":32},"end":{"row":44,"column":33},"action":"remove","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":31},"end":{"row":44,"column":32},"action":"remove","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":30},"end":{"row":44,"column":31},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":29},"end":{"row":44,"column":30},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":28},"end":{"row":44,"column":29},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":27},"end":{"row":44,"column":28},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":26},"end":{"row":44,"column":27},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":25},"end":{"row":44,"column":26},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":24},"end":{"row":44,"column":25},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":23},"end":{"row":44,"column":24},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":22},"end":{"row":44,"column":23},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":21},"end":{"row":44,"column":22},"action":"remove","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":21},"end":{"row":44,"column":22},"action":"insert","lines":["F"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":22},"end":{"row":44,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":23},"end":{"row":44,"column":24},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":24},"end":{"row":44,"column":25},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":25},"end":{"row":44,"column":26},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":26},"end":{"row":44,"column":27},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":27},"end":{"row":44,"column":28},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":28},"end":{"row":44,"column":29},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":29},"end":{"row":44,"column":30},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":30},"end":{"row":44,"column":31},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":31},"end":{"row":44,"column":32},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":32},"end":{"row":44,"column":33},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":33},"end":{"row":44,"column":34},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":34},"end":{"row":44,"column":35},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":35},"end":{"row":44,"column":36},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":36},"end":{"row":44,"column":37},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":37},"end":{"row":44,"column":38},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":38},"end":{"row":44,"column":39},"action":"insert","lines":["ö"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":39},"end":{"row":44,"column":40},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":40},"end":{"row":44,"column":41},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":41},"end":{"row":44,"column":42},"action":"insert","lines":["ö"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":42},"end":{"row":44,"column":43},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":43},"end":{"row":44,"column":44},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":44},"end":{"row":44,"column":45},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":45},"end":{"row":44,"column":46},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":46},"end":{"row":44,"column":47},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":47},"end":{"row":44,"column":48},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":48},"end":{"row":44,"column":49},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":0},"end":{"row":39,"column":5},"action":"remove","lines":["          ","     "]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":10},"end":{"row":50,"column":10},"action":"remove","lines":["","          "]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":9},"end":{"row":49,"column":10},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":8},"end":{"row":49,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":0},"end":{"row":69,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":68},"end":{"row":69,"column":15},"action":"remove","lines":["","               "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":0},"end":{"row":85,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":2},"end":{"row":84,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":84,"column":26},"action":"remove","lines":["\"use strict\";","","var quiz = ","{","numberOfTries:0,    ","    init:function()","    {","        document.getElementById(\"button\").onclick = function()","        {quiz.question(\"http://vhost3.lnu.se:20080/question/1\");};","    },","    ","    question:function(url)","    {","        var getRequest = new XMLHttpRequest();","        ","        getRequest.onreadystatechange = function()","        {","            if (getRequest.readyState === 4 && getRequest.status === 200)","            {","                var responseT = JSON.parse(getRequest.responseText);","                document.getElementById(\"question\").innerHTML = responseT.question;","                quiz.answer(responseT.nextURL);","            }","            if (getRequest.status === 404 && getRequest.readyState === 4)","            {","                alert(\"Bra jobbat! Du har svarat på alla frågor! Det tog dig \" + quiz.numberOfTries + \" försök!\");","            }","            ","        },","        ","        getRequest.open(\"GET\", url, true);","        getRequest.send(null);","    },","    ","    answer:function(url)","    {","      document.getElementById(\"sendbutton\").onclick = function()","      {","     ","          quiz.numberOfTries += 1;","          var answer = document.getElementById(\"textarea\").value;","          if(isNaN(parseFloat(answer)))","          {","              alert(\"Felaktig input, försök igen.\");","          }","          else","          {","              quiz.sendanswer(url, answer);","          }","        ","      };","        ","    },","    ","    sendanswer:function(url, answer)","    {","        var sendRequest = new XMLHttpRequest();","        ","        sendRequest.onreadystatechange = function()","        {","            if(sendRequest.readyState === 4 && sendRequest.status === 200)","            {","                var responseA = JSON.parse(sendRequest.responseText);","                quiz.question(responseA.nextURL);","                //alert(\"funkar\");","            }","            if (sendRequest.status === 400 && sendRequest.readyState === 4)","            {","                alert(\"Fel! Stäng rutan med 'OK' och försök igen!\");","            }","          ","        };","            var object = {\"answer\" : answer};","            ","            var response = JSON.stringify(object);","        ","            sendRequest.open(\"POST\", url, true);","            ","            sendRequest.setRequestHeader(\"Content-Type\", \"application/json\");","        ","            sendRequest.send(response);","    }","","};","window.onload = quiz.init;"]},{"start":{"row":0,"column":0},"end":{"row":117,"column":26},"action":"insert","lines":["\"use strict\";","","var quiz =","{","    requesting:new XMLHttpRequest(),","    numberOfTries:0,","    currentQuestion:null,","    results:[],","    triesPerQuestion:null,","    i:0,","","    init:function()","","    {","        document.getElementById(\"button\").onclick = function()","        {quiz.question(\"http://vhost3.lnu.se:20080/question/1\");};","    },","","    question:function(url)","    {","        var getRequest = quiz.request(url, null);","","        getRequest.onreadystatechange = function()","        {","            if (getRequest.readyState === 4 && getRequest.status === 200)","            {","                var responseT = JSON.parse(getRequest.responseText);","                quiz.currentQuestion = responseT.question;","","                document.getElementById(\"question\").innerHTML = responseT.question;","                quiz.answer(responseT.nextURL);","            }","            if (getRequest.status === 404 && getRequest.readyState === 4)","            {","                var end = confirm(\"Bra jobbat! Tryck 'OK' för spännande statistik.\");","","                var presentResult =  document.getElementById(\"results\");","","                if(end === true)","                {","                    for (var i = 1; i < quiz.results.length; i++) {","                        var result = document.createElement(\"p\");","                        result.innerHTML = quiz.results[i];","                        presentResult.appendChild(result);","                    }","                }","                else","                {","                    presentResult.innerHTML = \"Tråkigt att du skäms så över dina resultat.\";","                }","            }","        };","    },","","        request:function(url, whatToSend)","        {","            if(whatToSend != null)","            {","                quiz.requesting.open(\"POST\", url, true);","                quiz.requesting.setRequestHeader(\"Content-Type\", \"application/json\");","            }","            else","            {","                quiz.requesting.open(\"GET\", url, true);","            }","            quiz.requesting.send(whatToSend);","            return quiz.requesting;","        },","","    answer:function(url)","    {","        document.getElementById(\"sendbutton\").onclick = function()","        {","            quiz.i += 1;","            quiz.numberOfTries += 1;","            var tryperquestion = \"Fråga: '\" + quiz.currentQuestion + \"' tog dig \" + quiz.numberOfTries + \" försök.\";","            quiz.results[quiz.i] = tryperquestion;","","            var answer = document.getElementById(\"textarea\").value;","            var object = {\"answer\" : answer};","            var response = JSON.stringify(object);","","            if(isNaN(parseFloat(answer)))","            {","                alert(\"Felaktig input, försök igen.\");","            }","            else","            {","                quiz.sendanswer(url, response);","            }","        };","    },","","    sendanswer:function(url, answer)","    {","        var sendRequest = quiz.request(url, answer);","","        sendRequest.onreadystatechange = function()","        {","            if(sendRequest.readyState === 4 && sendRequest.status === 200)","            {","                var responseA = JSON.parse(sendRequest.responseText);","                quiz.numberOfTries = 0;","                quiz.question(responseA.nextURL);","                //alert(\"funkar\");","            }","            if (sendRequest.status === 400 && sendRequest.readyState === 4)","            {       if(quiz.i >= 1)","                    {","                        quiz.i -= 1;","                    }","                alert(\"Fel! Stäng rutan med 'OK' och försök igen!\");","                //quiz.currentQuestion -= 1;","            }","        };","    }","};","window.onload = quiz.init;"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":117,"column":26},"end":{"row":117,"column":26},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1420630484644,"hash":"2f09b982e876fa57ce93f9132ac27e24ff35399f"}